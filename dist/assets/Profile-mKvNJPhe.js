import{j as e}from"./vendor-ui-T5L2aXSd.js";import{r as n,L as o}from"./vendor-react-Dh4HNKln.js";import{c as h,i as b,j,F as v,G as N,J as y,B as t,K as w,d as _,P as C,m as k,q as P,N as A,x as L}from"./App-BJlSktNm.js";import{T as M,a as S,b as d,c}from"./tabs-DAHJ50c0.js";import{y as z}from"./vendor-firebase-D4lSkuMt.js";import{P as E}from"./product-card-Bemfo3rH.js";import{f as q}from"./format-Dxh8Vach.js";import{M as T}from"./map-pin-lriVDexN.js";import{S as U}from"./star-BcHBrKpp.js";import{L as D}from"./leaf-o0nvutNd.js";import"./index-Cd1_NYyQ.js";import"./vendor-charts-Czn4h1RS.js";import"./star-rating-BRvWqeeD.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],I=h("droplets",F);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],B=h("pen-line",O);function se(){var x,u;const{user:a}=b(),[r,f]=n.useState([]),[p,m]=n.useState(!0);if(n.useEffect(()=>{async function s(){if(a!=null&&a.uid)try{const{products:l}=await A.Products.list({filters:[z("userId","==",a.uid)]});f(l)}catch(l){console.error("Error fetching user products:",l)}finally{m(!1)}else m(!1)}s()},[a==null?void 0:a.uid]),!a)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[e.jsx(j,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando perfil..."})]});(x=a.favorites)!=null&&x.length;const i=r.length*1e3;i>=1e3?`${(i/1e3).toFixed(1)}`:`${i}`;const g=a.createdAt?q(a.createdAt.toDate(),"MMMM 'de' yyyy",{locale:L}):"Membro recente";return e.jsx("div",{className:"bg-background pb-10",children:e.jsxs("div",{className:"w-full px-2 pt-8",children:[e.jsx("div",{className:"relative z-20 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-end md:items-end gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-emerald-500 to-orange-400 rounded-[30%_70%_70%_30%_/_30%_30%_70%_70%] blur opacity-70 group-hover:opacity-100 transition duration-500"}),e.jsxs(v,{className:"w-32 h-32 border-4 border-background shadow-xl rounded-[30%_70%_70%_30%_/_30%_30%_70%_70%] overflow-hidden bg-white",children:[e.jsx(N,{src:a.photoURL||"",className:"object-cover"}),e.jsx(y,{className:"text-4xl bg-secondary text-secondary-foreground",children:((u=a.name)==null?void 0:u.substring(0,2).toUpperCase())||"US"})]}),e.jsx(o,{to:"/settings",children:e.jsx(t,{size:"icon",variant:"secondary",className:"absolute bottom-2 right-2 rounded-full shadow-lg h-10 w-10",children:e.jsx(B,{className:"h-4 w-4"})})})]}),e.jsxs("div",{className:"flex-1 pb-2 text-center md:text-left",children:[e.jsx("h1",{className:"font-serif text-3xl md:text-4xl text-foreground mb-2 capitalize",children:a.name||"Utilizador"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4 text-muted-foreground mb-4",children:[a.location&&e.jsxs("span",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(T,{className:"h-4 w-4"})," ",a.location]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-sm capitalize",children:[e.jsx(w,{className:"h-4 w-4"})," ",g]}),e.jsx(_,{variant:"secondary",className:"bg-emerald-100 text-emerald-800 hover:bg-emerald-200 border-emerald-200",children:"Eco Warrior"})]}),e.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto md:mx-0 font-light leading-relaxed",children:a.bio||"Sem biografia definida. Adicione uma descri√ß√£o nas configura√ß√µes para que os compradores o conhe√ßam melhor! üåø"})]}),e.jsx("div",{className:"flex gap-3 pb-4 w-full md:w-auto justify-center md:justify-end",children:e.jsx(o,{to:"/settings",children:e.jsx(t,{className:"rounded-xl bg-primary hover:bg-primary/90 shadow-lg shadow-primary/20",children:"Editar Perfil"})})})]})}),e.jsxs(M,{defaultValue:"closet",className:"w-full",children:[e.jsxs(S,{className:"w-full justify-start h-auto p-0 bg-transparent border-b border-border/40 rounded-none mb-8 overflow-x-auto flex-nowrap",children:[e.jsx(d,{value:"closet",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:text-primary rounded-none px-6 py-4 text-base font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Meu Closet"}),e.jsx(d,{value:"favorites",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:text-primary rounded-none px-6 py-4 text-base font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Favoritos"}),e.jsx(d,{value:"impact",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:text-primary rounded-none px-6 py-4 text-base font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Impacto Detalhado"}),e.jsx(d,{value:"reviews",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:text-primary rounded-none px-6 py-4 text-base font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Avalia√ß√µes"})]}),e.jsxs(c,{value:"closet",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"font-serif text-2xl text-foreground",children:["√Ä Venda (",r.length,")"]}),e.jsx(o,{to:"/sell",children:e.jsx(t,{variant:"ghost",className:"text-primary hover:bg-primary/5",children:"Adicionar Pe√ßa"})})]}),p?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-[300px] w-full bg-secondary/30 animate-pulse rounded-xl"}),e.jsx("div",{className:"h-4 w-2/3 bg-secondary/30 animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-1/3 bg-secondary/30 animate-pulse rounded"})]},s))}):r.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(s=>e.jsx(E,{product:s},s.id))}):e.jsxs("div",{className:"text-center py-20 bg-secondary/20 rounded-3xl border border-dashed border-border",children:[e.jsx("div",{className:"h-16 w-16 bg-background rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm",children:e.jsx(C,{className:"h-8 w-8 text-muted-foreground/50"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"O seu closet est√° vazio"}),e.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto mb-6",children:"D√™ uma nova vida √†s suas roupas. Comece a vender hoje mesmo e contribua para um futuro mais sustent√°vel."}),e.jsx(o,{to:"/sell",children:e.jsx(t,{children:"Come√ßar a Vender"})})]})]}),e.jsx(c,{value:"favorites",children:e.jsxs("div",{className:"text-center py-20 bg-secondary/20 rounded-3xl border border-dashed border-border",children:[e.jsx("div",{className:"h-16 w-16 bg-background rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm",children:e.jsx(U,{className:"h-8 w-8 text-muted-foreground/50"})}),e.jsx("h3",{className:"font-serif text-xl text-foreground mb-2",children:"Ainda n√£o tens favoritos"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Explora o cat√°logo e guarda as pe√ßas que amas para as encontrares facilmente mais tarde."}),e.jsx(t,{className:"mt-6 rounded-xl",variant:"outline",children:"Explorar Cat√°logo"})]})}),e.jsx(c,{value:"impact",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(k,{className:"border-none bg-secondary/20 shadow-none",children:e.jsxs(P,{className:"p-8",children:[e.jsx("h3",{className:"font-serif text-2xl mb-4",children:"A tua pegada ecol√≥gica"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Ao comprares em segunda m√£o, evitas a emiss√£o de CO2 e o consumo excessivo de √°gua. O teu impacto equivale a:"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600",children:e.jsx(D,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-bold text-lg",children:"120 kg"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"de CO2 evitado"})]})]}),e.jsxs("li",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:e.jsx(I,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-bold text-lg",children:"4,500 L"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"de √°gua poupada"})]})]})]})]})}),e.jsxs("div",{className:"relative rounded-3xl overflow-hidden h-full min-h-[300px]",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1542601906990-b4d3fb7d5fa5?q=80&w=2070&auto=format&fit=crop",alt:"Nature",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center p-8 text-center",children:e.jsx("p",{className:"text-white font-serif text-2xl italic",children:'"A moda mais sustent√°vel √© aquela que j√° existe."'})})]})]})})]})]})})}export{se as default};
