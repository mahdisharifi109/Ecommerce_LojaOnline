const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/spline-chart-BXMiJ0g5.js","assets/vendor-ui-T5L2aXSd.js","assets/vendor-react-Dh4HNKln.js","assets/vendor-firebase-D4lSkuMt.js","assets/vendor-charts-Czn4h1RS.js"])))=>i.map(i=>d[i]);
import{j as e}from"./vendor-ui-T5L2aXSd.js";import{_ as A}from"./index-Cd1_NYyQ.js";import{r as d,L as D,R as E,f as L,N as V}from"./vendor-react-Dh4HNKln.js";import{c as N,i as w,u as z,B as $,m as i,q as c,D as f,P as B,n as b,o as j,S as F,M as g,r as O,j as T}from"./App-BJlSktNm.js";import{x as I,w as J,y as q,B as H}from"./vendor-firebase-D4lSkuMt.js";import{P as v}from"./plus-Bj-iQ1MU.js";import{S as p}from"./star-BcHBrKpp.js";import"./vendor-charts-Czn4h1RS.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Q=N("printer",Y);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],G=N("trending-up",U),K=E.lazy(()=>A(()=>import("./spline-chart-BXMiJ0g5.js"),__vite__mapDeps([0,1,2,3,4])));function W(){var u;const{user:t}=w(),{products:m}=z(),[n,y]=d.useState([]),[X,k]=d.useState(!0);d.useEffect(()=>{if(!t)return;(async()=>{try{const a=I(J(O,"reviews"),q("sellerId","==",t.uid)),o=(await H(a)).docs.map(x=>({id:x.id,...x.data()}));y(o)}catch(a){console.error("Erro ao carregar avalia√ß√µes:",a)}finally{k(!1)}})()},[t]);const l=d.useMemo(()=>t?m.filter(s=>s.userId===t.uid):[],[m,t]),M=d.useMemo(()=>l.filter(s=>s.status==="vendido").reduce((s,a)=>s+a.price,0),[l]),R=d.useMemo(()=>l.filter(s=>s.status!=="vendido").length,[l]),S=d.useMemo(()=>n.length===0?0:n.reduce((a,r)=>a+r.rating,0)/n.length,[n]),C=d.useMemo(()=>{const s={},a=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];return a.forEach(r=>{const o=new Date().getFullYear();s[`${r}-${o}`]=0}),l.filter(r=>r.status==="vendido"&&r.createdAt).forEach(r=>{const o=r.createdAt.toDate(),x=a[o.getMonth()],_=o.getFullYear(),h=`${x}-${_}`;s[h]=(s[h]||0)+r.price}),Object.entries(s).map(([r,o])=>({month:r.split("-")[0],revenue:o})).filter(r=>r.revenue>0).slice(-6)},[l]),P=((u=t==null?void 0:t.name)==null?void 0:u.split(" ")[0])||"Visitante";return e.jsxs("div",{className:"space-y-10 pb-20 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-serif text-4xl md:text-5xl text-foreground mb-3",children:["Bom dia, ",P,"."]}),e.jsx("p",{className:"text-xl text-muted-foreground font-light",children:"O mundo agradece por voc√™ circular a moda hoje. üåø"})]}),e.jsx($,{asChild:!0,className:"rounded-xl h-12 px-6 bg-primary hover:bg-primary/90 shadow-lg shadow-primary/20 text-base",children:e.jsxs(D,{to:"/sell",children:[e.jsx(v,{className:"mr-2 h-5 w-5"})," Novo An√∫ncio"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(i,{className:"border-none shadow-soft bg-background hover:shadow-elevated transition-all duration-300 rounded-2xl",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-emerald-50 rounded-xl text-emerald-600",children:e.jsx(f,{className:"h-6 w-6"})}),e.jsxs("span",{className:"flex items-center text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[e.jsx(G,{className:"h-3 w-3 mr-1"})," +12%"]})]}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Rendimento Total"}),e.jsxs("h3",{className:"text-3xl font-serif font-medium mt-1",children:[M.toFixed(2)," ‚Ç¨"]})]})}),e.jsx(i,{className:"border-none shadow-soft bg-background hover:shadow-elevated transition-all duration-300 rounded-2xl",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:e.jsx(B,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Ativos"})]}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pe√ßas √† Venda"}),e.jsx("h3",{className:"text-3xl font-serif font-medium mt-1",children:R})]})}),e.jsx(i,{className:"border-none shadow-soft bg-background hover:shadow-elevated transition-all duration-300 rounded-2xl",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-amber-50 rounded-xl text-amber-600",children:e.jsx(p,{className:"h-6 w-6"})}),e.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:[n.length," avalia√ß√µes"]})]}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Classifica√ß√£o M√©dia"}),e.jsx("h3",{className:"text-3xl font-serif font-medium mt-1",children:S.toFixed(1)})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(i,{className:"border-none shadow-soft bg-background rounded-3xl overflow-hidden",children:[e.jsx(b,{className:"pb-2",children:e.jsx(j,{className:"font-serif text-xl font-normal",children:"Tend√™ncia de Vendas"})}),e.jsx(c,{className:"pl-0",children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"h-[300px] w-full flex items-center justify-center",children:e.jsx(F,{className:"h-[250px] w-[90%] rounded-xl"})}),children:e.jsx(K,{data:C})})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("button",{className:"flex flex-col items-center justify-center p-6 bg-background rounded-2xl shadow-sm border border-border/50 hover:border-primary/30 hover:shadow-md transition-all group",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-secondary/50 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform text-foreground",children:e.jsx(v,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-medium text-sm",children:"Novo An√∫ncio"})]}),e.jsxs("button",{className:"flex flex-col items-center justify-center p-6 bg-background rounded-2xl shadow-sm border border-border/50 hover:border-primary/30 hover:shadow-md transition-all group",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-secondary/50 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform text-foreground",children:e.jsx(g,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-medium text-sm",children:"Mensagens"})]}),e.jsxs("button",{className:"flex flex-col items-center justify-center p-6 bg-background rounded-2xl shadow-sm border border-border/50 hover:border-primary/30 hover:shadow-md transition-all group",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-secondary/50 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform text-foreground",children:e.jsx(Q,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-medium text-sm",children:"Etiquetas"})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(i,{className:"border-none shadow-soft bg-background h-full rounded-3xl",children:[e.jsx(b,{children:e.jsx(j,{className:"font-serif text-xl font-normal",children:"Atividade Recente"})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-6 relative before:absolute before:inset-0 before:ml-6 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-border before:to-transparent",children:[e.jsxs("div",{className:"relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border border-white bg-emerald-100 shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 z-10",children:e.jsx(f,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{className:"w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-4 rounded-xl border border-border/40 bg-secondary/10 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-1",children:[e.jsx("div",{className:"font-bold text-foreground text-sm",children:"Venda Realizada"}),e.jsx("time",{className:"font-caveat font-medium text-xs text-muted-foreground",children:"Hoje, 10:30"})]}),e.jsx("div",{className:"text-muted-foreground text-xs",children:'Vendeste "Casaco Vintage" por 45‚Ç¨'})]})]}),e.jsxs("div",{className:"relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border border-white bg-blue-100 shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 z-10",children:e.jsx(g,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-4 rounded-xl border border-border/40 bg-secondary/10 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-1",children:[e.jsx("div",{className:"font-bold text-foreground text-sm",children:"Nova Pergunta"}),e.jsx("time",{className:"font-caveat font-medium text-xs text-muted-foreground",children:"Ontem, 18:45"})]}),e.jsx("div",{className:"text-muted-foreground text-xs",children:"Maria perguntou sobre as medidas das cal√ßas."})]})]}),e.jsxs("div",{className:"relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border border-white bg-amber-100 shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 z-10",children:e.jsx(p,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{className:"w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-4 rounded-xl border border-border/40 bg-secondary/10 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-1",children:[e.jsx("div",{className:"font-bold text-foreground text-sm",children:"Nova Avalia√ß√£o"}),e.jsx("time",{className:"font-caveat font-medium text-xs text-muted-foreground",children:"2 dias atr√°s"})]}),e.jsx("div",{className:"text-muted-foreground text-xs",children:"Recebeste 5 estrelas de Jo√£o P."})]})]})]})})]})})]})]})}function ne(){const{user:t,loading:m}=w(),n=L();return m?e.jsx("div",{className:"container flex min-h-[50vh] items-center justify-center",children:e.jsx(T,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t?e.jsx("div",{className:"container px-4 py-8 sm:px-6 sm:py-10 lg:px-8",children:e.jsx(W,{})}):e.jsx(V,{to:`/login?redirect=${n.pathname}`,replace:!0})}export{ne as default};
