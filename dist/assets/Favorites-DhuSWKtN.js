import{j as e}from"./vendor-ui-T5L2aXSd.js";import{r as i,L as u}from"./vendor-react-Dh4HNKln.js";import{i as x,j as h,H as g,B as p,N as j}from"./App-BJlSktNm.js";import{P as v}from"./product-card-Bemfo3rH.js";import{y,Q as N}from"./vendor-firebase-D4lSkuMt.js";import"./index-Cd1_NYyQ.js";import"./vendor-charts-Czn4h1RS.js";import"./star-rating-BRvWqeeD.js";import"./star-BcHBrKpp.js";function A(){const{user:s}=x(),[t,n]=i.useState([]),[f,c]=i.useState(!0);return i.useEffect(()=>{async function a(){if(!(s!=null&&s.favorites)||s.favorites.length===0){n([]),c(!1);return}try{const o=s.favorites,d=[];for(let r=0;r<o.length;r+=10)d.push(o.slice(r,r+10));const l=[];for(const r of d){const{products:m}=await j.Products.list({filters:[y(N(),"in",r)]});l.push(...m)}n(l)}catch(o){console.error("Error fetching favorites:",o)}finally{c(!1)}}a()},[s==null?void 0:s.favorites]),f?e.jsx("div",{className:"flex h-96 items-center justify-center",children:e.jsx(h,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"font-serif text-3xl font-medium",children:"Favoritos"}),e.jsxs("p",{className:"text-muted-foreground",children:[t.length," ",t.length===1?"artigo guardado":"artigos guardados"]})]})}),t.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(a=>e.jsx(v,{product:a},a.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-border bg-secondary/5 py-24 text-center",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-secondary/20",children:e.jsx(g,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"mb-2 font-serif text-xl font-medium",children:"Ainda não tens favoritos"}),e.jsx("p",{className:"mb-6 max-w-sm text-muted-foreground",children:"Guarda os artigos que mais gostas para não os perderes de vista."}),e.jsx(p,{asChild:!0,children:e.jsx(u,{to:"/catalog",children:"Explorar Catálogo"})})]})]})}export{A as default};
