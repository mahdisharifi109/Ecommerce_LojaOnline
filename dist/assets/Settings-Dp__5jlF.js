import{j as e,a2 as X,m as Z,n as qe,p as K,t as ee,a3 as Qe,w as We,q as L,y as Ye,r as $,s as G,o as U,O as H}from"./vendor-ui-T5L2aXSd.js";import{r as i,e as Je}from"./vendor-react-Dh4HNKln.js";import{c as B,a as u,O as ae,X as se,i as Xe,l as Ze,j as M,F as Ke,G as ea,J as aa,B as x,Q as Y,L as p,I as C,R as D,z as J,T as sa,E as P}from"./App-BJlSktNm.js";import{T as ta,a as ra,b as T,c as z}from"./tabs-DAHJ50c0.js";import{T as ia}from"./textarea-Co5cCeDZ.js";import{O as oa,P as la}from"./vendor-firebase-D4lSkuMt.js";import{P as na}from"./plus-Bj-iQ1MU.js";import{M as da}from"./map-pin-lriVDexN.js";import{L as ca}from"./lock-DF-DvFPS.js";import"./index-Cd1_NYyQ.js";import"./vendor-charts-Czn4h1RS.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ua=B("camera",ma);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],xa=B("pencil",pa);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ha=B("smartphone",fa);var ga=Symbol("radix.slottable");function va(a){const t=({children:r})=>e.jsx(e.Fragment,{children:r});return t.displayName=`${a}.Slottable`,t.__radixId=ga,t}var te="AlertDialog",[ja]=We(te,[X]),h=X(),re=a=>{const{__scopeAlertDialog:t,...r}=a,l=h(t);return e.jsx(Z,{...l,...r,modal:!0})};re.displayName=te;var Na="AlertDialogTrigger",ie=i.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...l}=a,n=h(r);return e.jsx(qe,{...n,...l,ref:t})});ie.displayName=Na;var ya="AlertDialogPortal",oe=a=>{const{__scopeAlertDialog:t,...r}=a,l=h(t);return e.jsx(K,{...l,...r})};oe.displayName=ya;var ba="AlertDialogOverlay",le=i.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...l}=a,n=h(r);return e.jsx(H,{...n,...l,ref:t})});le.displayName=ba;var w="AlertDialogContent",[Aa,Da]=ja(w),Ca=va("AlertDialogContent"),ne=i.forwardRef((a,t)=>{const{__scopeAlertDialog:r,children:l,...n}=a,g=h(r),N=i.useRef(null),E=ee(t,N),m=i.useRef(null);return e.jsx(Qe,{contentName:w,titleName:de,docsSlug:"alert-dialog",children:e.jsx(Aa,{scope:r,cancelRef:m,children:e.jsxs(L,{role:"alertdialog",...g,...n,ref:E,onOpenAutoFocus:Ye(n.onOpenAutoFocus,v=>{var _;v.preventDefault(),(_=m.current)==null||_.focus({preventScroll:!0})}),onPointerDownOutside:v=>v.preventDefault(),onInteractOutside:v=>v.preventDefault(),children:[e.jsx(Ca,{children:l}),e.jsx(Ea,{contentRef:N})]})})})});ne.displayName=w;var de="AlertDialogTitle",ce=i.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...l}=a,n=h(r);return e.jsx($,{...n,...l,ref:t})});ce.displayName=de;var me="AlertDialogDescription",ue=i.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...l}=a,n=h(r);return e.jsx(G,{...n,...l,ref:t})});ue.displayName=me;var wa="AlertDialogAction",pe=i.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...l}=a,n=h(r);return e.jsx(U,{...n,...l,ref:t})});pe.displayName=wa;var xe="AlertDialogCancel",fe=i.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...l}=a,{cancelRef:n}=Da(xe,r),g=h(r),N=ee(t,n);return e.jsx(U,{...g,...l,ref:N})});fe.displayName=xe;var Ea=({contentRef:a})=>{const t=`\`${w}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${w}\` by passing a \`${me}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${w}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{var l;document.getElementById((l=a.current)==null?void 0:l.getAttribute("aria-describedby"))||console.warn(t)},[t,a]),null},Pa=re,_a=ie,ka=oe,he=le,ge=ne,ve=pe,je=fe,Ne=ce,ye=ue;const Sa=Pa,Ra=_a,Ta=ka,be=i.forwardRef(({className:a,...t},r)=>e.jsx(he,{className:u("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:r}));be.displayName=he.displayName;const Ae=i.forwardRef(({className:a,...t},r)=>e.jsxs(Ta,{children:[e.jsx(be,{}),e.jsx(ge,{ref:r,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...t})]}));Ae.displayName=ge.displayName;const De=({className:a,...t})=>e.jsx("div",{className:u("flex flex-col space-y-2 text-center sm:text-left",a),...t});De.displayName="AlertDialogHeader";const Ce=({className:a,...t})=>e.jsx("div",{className:u("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t});Ce.displayName="AlertDialogFooter";const we=i.forwardRef(({className:a,...t},r)=>e.jsx(Ne,{ref:r,className:u("text-lg font-semibold",a),...t}));we.displayName=Ne.displayName;const Ee=i.forwardRef(({className:a,...t},r)=>e.jsx(ye,{ref:r,className:u("text-sm text-muted-foreground",a),...t}));Ee.displayName=ye.displayName;const Pe=i.forwardRef(({className:a,...t},r)=>e.jsx(ve,{ref:r,className:u(ae(),a),...t}));Pe.displayName=ve.displayName;const _e=i.forwardRef(({className:a,...t},r)=>e.jsx(je,{ref:r,className:u(ae({variant:"outline"}),"mt-2 sm:mt-0",a),...t}));_e.displayName=je.displayName;const za=Z,Fa=K,ke=i.forwardRef(({className:a,...t},r)=>e.jsx(H,{ref:r,className:u("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t}));ke.displayName=H.displayName;const Se=i.forwardRef(({className:a,children:t,...r},l)=>e.jsxs(Fa,{children:[e.jsx(ke,{}),e.jsxs(L,{ref:l,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[t,e.jsxs(U,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Se.displayName=L.displayName;const Re=({className:a,...t})=>e.jsx("div",{className:u("flex flex-col space-y-1.5 text-center sm:text-left",a),...t});Re.displayName="DialogHeader";const Te=({className:a,...t})=>e.jsx("div",{className:u("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t});Te.displayName="DialogFooter";const ze=i.forwardRef(({className:a,...t},r)=>e.jsx($,{ref:r,className:u("text-lg font-semibold leading-none tracking-tight",a),...t}));ze.displayName=$.displayName;const Fe=i.forwardRef(({className:a,...t},r)=>e.jsx(G,{ref:r,className:u("text-sm text-muted-foreground",a),...t}));Fe.displayName=G.displayName;const j=({label:a,...t})=>e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute -top-2 left-2 bg-background px-1 text-xs text-muted-foreground",children:a}),t.as==="textarea"?e.jsx(ia,{className:"min-h-[100px] resize-none",...t}):e.jsx(C,{...t})]});function Qa(){var W;const{user:a,updateProfile:t}=Xe(),{toast:r}=Ze(),l=Je(),[n,g]=i.useState(!1),[N,E]=i.useState(!1),[m,v]=i.useState({name:"",email:"",bio:"",location:"",phone:"",instagram:"",website:""}),[_,V]=i.useState(null),[Oe,q]=i.useState(null),F=i.useRef(null),[k,O]=i.useState([]),[Ie,S]=i.useState(!1),[R,I]=i.useState(null),[d,f]=i.useState({}),[y,b]=i.useState({email_marketing:!1,email_orders:!0,email_messages:!0,push_messages:!0,push_sales:!0});i.useEffect(()=>{a&&(v({name:a.name||"",email:a.email||"",bio:a.bio||"",location:a.location||"",phone:a.phone||"",instagram:"",website:""}),q(a.photoURL||null),O(a.addresses||[]),a.notificationPreferences&&b(a.notificationPreferences))},[a]);const A=s=>{const{name:o,value:c}=s.target;v(Ve=>({...Ve,[o]:c}))},Me=s=>{if(s.target.files&&s.target.files[0]){const o=s.target.files[0];V(o);const c=new FileReader;c.onloadend=()=>{q(c.result)},c.readAsDataURL(o)}},Le=async()=>{if(a){g(!0);try{await t({notificationPreferences:y}),r({title:"Preferências guardadas",description:"As tuas preferências de notificação foram atualizadas."})}catch{r({title:"Erro",description:"Não foi possível guardar as preferências.",variant:"destructive"})}finally{g(!1)}}},$e=async()=>{if(!(!P||!P.currentUser)){E(!0);try{await oa(P.currentUser),r({title:"Conta eliminada",description:"A tua conta foi eliminada permanentemente."}),l("/")}catch(s){console.error("Error deleting account:",s),s.code==="auth/requires-recent-login"?r({title:"Reautenticação necessária",description:"Por favor, faz login novamente para confirmar a eliminação da conta.",variant:"destructive"}):r({title:"Erro",description:"Ocorreu um erro ao eliminar a conta.",variant:"destructive"})}finally{E(!1)}}},Ge=async()=>{if(a){g(!0);try{await t({name:m.name,bio:m.bio,location:m.location,phone:m.phone},_||void 0),r({title:"Alterações guardadas ✨",description:"O teu perfil foi atualizado com sucesso.",className:"bg-emerald-50 border-emerald-200 text-emerald-800"}),V(null)}catch(s){console.error(s),r({title:"Erro ao guardar",description:"Não foi possível atualizar o perfil. Tenta novamente.",variant:"destructive"})}finally{g(!1)}}},Ue=async()=>{if(!(!(a!=null&&a.email)||!P))try{await la(P,a.email),r({title:"Email enviado",description:`Enviámos um link de redefinição para ${a.email}`})}catch{r({title:"Erro",description:"Não foi possível enviar o email. Tenta novamente mais tarde.",variant:"destructive"})}},He=async()=>{if(!a)return;const s={id:R?R.id:crypto.randomUUID(),name:d.name||"Casa",fullName:d.fullName||"",street:d.street||"",city:d.city||"",zipCode:d.zipCode||"",country:d.country||"Portugal",isDefault:d.isDefault||!1};let o=[...k];R?o=o.map(c=>c.id===s.id?s:c):o.push(s),s.isDefault&&(o=o.map(c=>c.id===s.id?c:{...c,isDefault:!1}));try{await t({addresses:o}),O(o),S(!1),I(null),f({}),r({title:"Endereço guardado",description:"A tua lista de endereços foi atualizada."})}catch{r({title:"Erro",description:"Não foi possível guardar o endereço.",variant:"destructive"})}},Be=async s=>{const o=k.filter(c=>c.id!==s);try{await t({addresses:o}),O(o),r({title:"Endereço removido",description:"O endereço foi removido com sucesso."})}catch{r({title:"Erro",description:"Não foi possível remover o endereço.",variant:"destructive"})}},Q=s=>{s?(I(s),f(s)):(I(null),f({country:"Portugal"})),S(!0)};return a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-serif text-3xl font-medium",children:"Definições"}),e.jsx("p",{className:"text-muted-foreground",children:"Gere a tua conta e preferências"})]}),e.jsxs(ta,{defaultValue:"profile",className:"w-full",children:[e.jsxs(ra,{className:"mb-8 w-full justify-start border-b bg-transparent p-0",children:[e.jsx(T,{value:"profile",className:"rounded-none border-b-2 border-transparent px-4 py-2 data-[state=active]:border-primary data-[state=active]:bg-transparent",children:"Perfil"}),e.jsx(T,{value:"addresses",className:"rounded-none border-b-2 border-transparent px-4 py-2 data-[state=active]:border-primary data-[state=active]:bg-transparent",children:"Endereços"}),e.jsx(T,{value:"preferences",className:"rounded-none border-b-2 border-transparent px-4 py-2 data-[state=active]:border-primary data-[state=active]:bg-transparent",children:"Preferências"}),e.jsx(T,{value:"security",className:"rounded-none border-b-2 border-transparent px-4 py-2 data-[state=active]:border-primary data-[state=active]:bg-transparent",children:"Segurança"})]}),e.jsx(z,{value:"profile",className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500 mt-0",children:e.jsxs("div",{className:"grid gap-8 md:grid-cols-[240px_1fr]",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs(Ke,{className:"h-40 w-40 border-4 border-background shadow-xl",children:[e.jsx(ea,{src:Oe||"",className:"object-cover"}),e.jsx(aa,{className:"text-4xl",children:((W=m.name)==null?void 0:W.substring(0,2).toUpperCase())||"US"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black/40 opacity-0 transition-opacity group-hover:opacity-100 cursor-pointer",onClick:()=>{var s;return(s=F.current)==null?void 0:s.click()},children:e.jsx(ua,{className:"h-8 w-8 text-white"})})]}),e.jsx("input",{type:"file",ref:F,className:"hidden",accept:"image/*",onChange:Me}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>{var s;return(s=F.current)==null?void 0:s.click()},children:"Alterar Foto"})]}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsx(j,{label:"Nome Completo",name:"name",value:m.name,onChange:A}),e.jsx(j,{label:"Email",name:"email",value:m.email,disabled:!0,className:"bg-muted/50"}),e.jsx(j,{label:"Localização",name:"location",value:m.location,onChange:A,placeholder:"Ex: Lisboa, Portugal"}),e.jsx(j,{label:"Telemóvel",name:"phone",value:m.phone,onChange:A})]}),e.jsx(j,{label:"Bio",name:"bio",as:"textarea",value:m.bio,onChange:A,placeholder:"Conta um pouco sobre ti..."}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsx(j,{label:"Instagram",name:"instagram",value:m.instagram,onChange:A,placeholder:"@username"}),e.jsx(j,{label:"Website",name:"website",value:m.website,onChange:A,placeholder:"https://"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(x,{onClick:Ge,disabled:n,className:"min-w-[140px]",children:n?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 h-4 w-4 animate-spin"}),"A guardar..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Guardar Alterações"]})})})]})]})}),e.jsxs(z,{value:"addresses",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"Os teus endereços"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Gere os teus endereços de envio e faturação."})]}),e.jsxs(x,{onClick:()=>Q(),children:[e.jsx(na,{className:"mr-2 h-4 w-4"}),"Adicionar Endereço"]})]}),k.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center border rounded-lg bg-muted/10 border-dashed",children:[e.jsx(da,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),e.jsx("h3",{className:"text-lg font-medium",children:"Sem endereços guardados"}),e.jsx("p",{className:"text-muted-foreground max-w-sm mt-2",children:"Adiciona um endereço para agilizar o checkout das tuas compras."})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:k.map(s=>e.jsxs("div",{className:"relative rounded-lg border p-4 hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.name}),s.isDefault&&e.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-2 py-0.5 rounded-full font-medium",children:"Padrão"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(x,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Q(s),children:e.jsx(xa,{className:"h-4 w-4"})}),e.jsx(x,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>Be(s.id),children:e.jsx(se,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:s.fullName}),e.jsx("p",{children:s.street}),e.jsxs("p",{children:[s.zipCode," ",s.city]}),e.jsx("p",{children:s.country})]})]},s.id))}),e.jsx(za,{open:Ie,onOpenChange:S,children:e.jsxs(Se,{className:"sm:max-w-[500px]",children:[e.jsxs(Re,{children:[e.jsx(ze,{children:R?"Editar Endereço":"Novo Endereço"}),e.jsx(Fe,{children:"Preenche os dados do endereço para envio."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"addr-name",children:"Nome do Local"}),e.jsx(C,{id:"addr-name",placeholder:"Ex: Casa, Trabalho",value:d.name||"",onChange:s=>f({...d,name:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"addr-fullname",children:"Nome Completo"}),e.jsx(C,{id:"addr-fullname",placeholder:"Quem recebe?",value:d.fullName||"",onChange:s=>f({...d,fullName:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"addr-street",children:"Morada"}),e.jsx(C,{id:"addr-street",placeholder:"Rua, Número, Andar...",value:d.street||"",onChange:s=>f({...d,street:s.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"addr-zip",children:"Código Postal"}),e.jsx(C,{id:"addr-zip",placeholder:"0000-000",value:d.zipCode||"",onChange:s=>f({...d,zipCode:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"addr-city",children:"Cidade"}),e.jsx(C,{id:"addr-city",placeholder:"Cidade",value:d.city||"",onChange:s=>f({...d,city:s.target.value})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(D,{id:"addr-default",checked:d.isDefault||!1,onCheckedChange:s=>f({...d,isDefault:s})}),e.jsx(p,{htmlFor:"addr-default",children:"Definir como endereço padrão"})]})]}),e.jsxs(Te,{children:[e.jsx(x,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),e.jsx(x,{onClick:He,children:"Guardar Endereço"})]})]})})]}),e.jsx(z,{value:"preferences",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 max-w-2xl",children:[e.jsxs("div",{className:"rounded-lg border p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 border-b pb-2 mb-4",children:[e.jsx(J,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-medium",children:"Notificações por Email"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{className:"text-base",children:"Marketing e Novidades"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recebe novidades sobre promoções e novos produtos."})]}),e.jsx(D,{checked:y.email_marketing,onCheckedChange:s=>b(o=>({...o,email_marketing:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{className:"text-base",children:"Atualizações de Pedidos"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Emails importantes sobre o estado das tuas compras."})]}),e.jsx(D,{checked:y.email_orders,onCheckedChange:s=>b(o=>({...o,email_orders:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{className:"text-base",children:"Mensagens"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando recebes uma nova mensagem de um vendedor/comprador."})]}),e.jsx(D,{checked:y.email_messages,onCheckedChange:s=>b(o=>({...o,email_messages:s}))})]})]}),e.jsxs("div",{className:"rounded-lg border p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 border-b pb-2 mb-4",children:[e.jsx(ha,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-medium",children:"Notificações Push"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{className:"text-base",children:"Mensagens Instantâneas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificações no navegador quando recebes mensagens."})]}),e.jsx(D,{checked:y.push_messages,onCheckedChange:s=>b(o=>({...o,push_messages:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{className:"text-base",children:"Vendas e Ofertas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando alguém compra um artigo teu ou faz uma oferta."})]}),e.jsx(D,{checked:y.push_sales,onCheckedChange:s=>b(o=>({...o,push_sales:s}))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{onClick:Le,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 h-4 w-4 animate-spin"}),"A guardar..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Guardar Preferências"]})})})]})}),e.jsx(z,{value:"security",children:e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ca,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-medium",children:"Segurança da Conta"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:"Alterar Palavra-passe"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Enviaremos um email para o teu endereço (",a.email,") com um link seguro para redefinires a tua palavra-passe."]}),e.jsxs(x,{variant:"outline",onClick:Ue,children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Enviar Email de Redefinição"]})]})})]}),e.jsxs("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:[e.jsx("h3",{className:"font-medium text-destructive mb-2",children:"Zona de Perigo"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Eliminar a tua conta é uma ação irreversível. Todos os teus dados serão perdidos."}),e.jsxs(Sa,{open:N,onOpenChange:E,children:[e.jsx(Ra,{asChild:!0,children:e.jsxs(x,{variant:"destructive",children:[e.jsx(sa,{className:"mr-2 h-4 w-4"}),"Eliminar Conta"]})}),e.jsxs(Ae,{children:[e.jsxs(De,{children:[e.jsx(we,{children:"Tens a certeza absoluta?"}),e.jsx(Ee,{children:"Esta ação não pode ser desfeita. Isto irá eliminar permanentemente a tua conta e remover os teus dados dos nossos servidores."})]}),e.jsxs(Ce,{children:[e.jsx(_e,{children:"Cancelar"}),e.jsx(Pe,{onClick:$e,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sim, eliminar conta"})]})]})]})]})]})})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(M,{className:"h-8 w-8 animate-spin text-primary"})})}export{Qa as default};
