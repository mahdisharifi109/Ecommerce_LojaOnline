import{j as e}from"./vendor-ui-T5L2aXSd.js";import{r as a,L as c}from"./vendor-react-Dh4HNKln.js";import{i as v,j as b,B as n,W as N,P as y,N as o}from"./App-BJlSktNm.js";import{P as m}from"./product-card-Bemfo3rH.js";import{T as w,a as P,b as u,c as x}from"./tabs-DAHJ50c0.js";import{y as t}from"./vendor-firebase-D4lSkuMt.js";import{P as S}from"./plus-Bj-iQ1MU.js";import"./index-Cd1_NYyQ.js";import"./vendor-charts-Czn4h1RS.js";import"./star-rating-BRvWqeeD.js";import"./star-BcHBrKpp.js";function G(){const{user:s}=v(),[d,f]=a.useState([]),[i,h]=a.useState([]),[j,g]=a.useState(!0);return a.useEffect(()=>{async function r(){if(s!=null&&s.uid)try{const{products:l}=await o.Products.list({filters:[t("userId","==",s.uid),t("status","==","disponível")]});f(l);const{products:p}=await o.Products.list({filters:[t("userId","==",s.uid),t("status","==","vendido")]});h(p)}catch(l){console.error("Error fetching sales:",l)}finally{g(!1)}}r()},[s==null?void 0:s.uid]),j?e.jsx("div",{className:"flex h-96 items-center justify-center",children:e.jsx(b,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-serif text-3xl font-medium",children:"As minhas vendas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gere os teus anúncios e vendas"})]}),e.jsx(n,{asChild:!0,children:e.jsxs(c,{to:"/sell",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Vender Artigo"]})})]}),e.jsxs(w,{defaultValue:"active",className:"w-full",children:[e.jsxs(P,{className:"mb-6",children:[e.jsxs(u,{value:"active",children:["À Venda (",d.length,")"]}),e.jsxs(u,{value:"sold",children:["Vendidos (",i.length,")"]})]}),e.jsx(x,{value:"active",className:"space-y-6",children:d.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.map(r=>e.jsx(m,{product:r},r.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-border bg-secondary/5 py-24 text-center",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-secondary/20",children:e.jsx(N,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"mb-2 font-serif text-xl font-medium",children:"Não tens artigos à venda"}),e.jsx("p",{className:"mb-6 max-w-sm text-muted-foreground",children:"Dá uma nova vida às tuas roupas e ganha dinheiro extra."}),e.jsx(n,{asChild:!0,children:e.jsx(c,{to:"/sell",children:"Começar a Vender"})})]})}),e.jsx(x,{value:"sold",className:"space-y-6",children:i.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:i.map(r=>e.jsx(m,{product:r},r.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-border bg-secondary/5 py-24 text-center",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-secondary/20",children:e.jsx(y,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"mb-2 font-serif text-xl font-medium",children:"Ainda não vendeste nada"}),e.jsx("p",{className:"mb-6 max-w-sm text-muted-foreground",children:"Assim que venderes um artigo, ele aparecerá aqui."})]})})]})]})}export{G as default};
